#+TITLE: Design of oauth-service
#+AUTHOR: VLEAD
#+DATE: [2017-06-09 Friday]
#+SETUPFILE: ../org-templates/level-1.org
#+TAGS: boilerplate(b)
#+EXCLUDE_TAGS: boilerplate
#+OPTIONS: ^:nil


  #+BEGIN_HTML
  <img src="./work_flow.png" />
  #+END_HTML


  Following diagram represents the oauth-service design.
  This diagram has the following 3 sections:
  1) *Oauth Service* : A Micro Service which provides the authentication
     information via =REST= API's
  2) *Idp Service* : A Identity Provider which
     manages all the users authentication. Also provides the
     google authentication for user to login and logout.
  3) *Micro Services* : S1 and S2 are microservices which belong to vlabs.
  4) *User* : Person using microservices and needs to be authenticated. 
  

* Work Flow
  1. User opens in a portal. 
  2. As the user isn't authenticated with the portal he is redirected
     to the CAS Server/Oauth Server.
  3. The User Authenticates is redirected to the microService.  
  4. The User uses the Micro Service(S1) and then decides to use the
     Second MicroService(S2).
  5. S2 checks with the Oauth Service whether the
  user is authenticated.  
  6. As the User is Authenticated he is allowed
  to use the S2.
